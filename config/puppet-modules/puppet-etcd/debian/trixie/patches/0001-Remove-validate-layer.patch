From d12a883288255e6af2ca04f2090be14c10cbeca9 Mon Sep 17 00:00:00 2001
From: Sai Lakshmi Teja Vanka <SaiLakshmiTeja.Vanka@windriver.com>
Date: Tue, 7 Oct 2025 05:41:43 +0000
Subject: [PATCH] Remove validate layer

validate_* functions are no longer supported
in puppet-stdlib-9.0.0.

Signed-off-by: Sai Lakshmi Teja Vanka <SaiLakshmiTeja.Vanka@windriver.com>
---
 manifests/init.pp | 23 -----------------------
 1 file changed, 23 deletions(-)

diff --git a/manifests/init.pp b/manifests/init.pp
index 994865d..25c4579 100644
--- a/manifests/init.pp
+++ b/manifests/init.pp
@@ -289,30 +289,7 @@ class etcd (
   $log_package_levels          = $etcd::params::log_package_levels,
   $journald_forward_enable     = $etcd::params::journald_forward_enable
 ) inherits etcd::params {
-  validate_integer($snapshot_count)
-  validate_integer($heartbeat_interval)
-  validate_integer($election_timeout)
-  validate_integer($quota_backend_bytes)
-  validate_integer($max_snapshots)
-  validate_integer($max_wals)
-  validate_integer($proxy_failure_wait)
-  validate_integer($proxy_refresh_interval)
-  validate_integer($proxy_dial_timeout)
-  validate_integer($proxy_write_timeout)
-  validate_integer($proxy_read_timeout)
-  validate_bool($strict_reconfig_check, $client_cert_auth, $peer_client_cert_auth, $debug, $journald_forward_enable, $enable_v2)
-  validate_re($initial_cluster_state, '^(new|existing)$')
-  validate_re($discovery_fallback, '^(proxy|exit)$')
-  validate_absolute_path($data_dir)
-  if $cert_file { validate_absolute_path($cert_file) }
-  if $key_file { validate_absolute_path($key_file) }
-  if $trusted_ca_file { validate_absolute_path($trusted_ca_file) }
-  if $peer_cert_file { validate_absolute_path($peer_cert_file) }
-  if $peer_key_file { validate_absolute_path($peer_key_file) }
-  if $peer_trusted_ca_file { validate_absolute_path($peer_trusted_ca_file) }
-
   if $proxy {
-    validate_re($proxy, '^(on|off|readonly)$')
     $real_proxy = $proxy
   } else {
     $str = join(any2array($initial_cluster), '|')
-- 
2.47.3

